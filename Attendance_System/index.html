<html>
<head>
<title>Attendance System</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script type="text/javascript" src="scripts/controller.js"></script>

    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!--INCLUDING FOR DATA TABLES-->
    <link href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css" />
    <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>




    <link href="css/myCss.css" rel="stylesheet"><!--custom style sheet-->

    <!--USING JQUERY UI -->
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>





<script>
  $( function() {
    $( "#dialog-confirm" ).dialog({
    	autoOpen:false,
      resizable: false,
      height: "auto",
      width: 400,
      modal: true,
      buttons: {
        OK: function() {
          $( this ).dialog( "close" );
        }
      }
    });
  } );
  </script>










</head>


<body ng-app="myApp" ng-controller="DashboardCtrl">



<div class="container"><!---Start of the container---->




  <div class="jumbotron">
    <h1 align="center">Igniter Space</h1> 
    <p align="center">Student Attendance System</p> 
  </div>








	<div ng-hide="results" class="col-md-10 content" ng-hide="loading">
		<h3>Enter Student ID</h3>
		<input class="form-control" ng-model="student_id" type="text" placeholder="e.g. A1234"    >
		<br/>
		<button ng-click="getStudentByID(student_id)" class="btn btn-success btn-lg btn-outline btn-rounded">Search</button>
	</div>

	<!--error message box-->

	<!--div title="{{errorTitle}}" id="dialog-confirm" -->
	<div  id="dialog-confirm" >

	  <p><span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>{{errorMessage}}</p>
	</div>
	<!---->


	<br/>
	<div ng-show="results" class="content">
		<button ng-click="results=false;student_id=null" class="btn btn-danger btn-lg btn-outline btn-rounded">Back</button>
		<br/>
		<table border="1" id="studentDetails" class="display">
			<thead>
				<tr>
					<th>Registration Number</th>
					<th>Name</th>
					<th>Batch</th>
					<th>Age</th>
					<th>Age Group</th>
					<th>Parents Name</th>
					<th>E-mail</th>
					<th>Phone</th>
					<th>QR Code</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>{{reg_no}}</td>
					<td>{{name}}</td>
					<td>{{batch}}</td>
					<td>{{age}}</td>
					<td>{{age_group}}</td>
					<td>{{parents_name}}</td>
					<td>{{email}}</td>
					<td>{{phone}}</td>
					<td>{{qr_code}}</td>
				</tr>
			</tbody>
		</table>






                            
		<!-------------------------------------For the calculation and display of monthly payment-->

        <h3>Payment Details</h3>

        <table>
	        <tr>
	        	<td>
	        		<button ng-show="registration"  class="btn btn-success btn-lg btn-outline btn-rounded">Registration</button>
	        		<button ng-hide="registration"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(0)" ng-model="registration">Registration</button>
	        	</td>

	        	<td>
	        		<button ng-show="payment1"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 1</button>
	        		<button ng-hide="payment1"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(1)">Payment 1</button>
	        	</td>

		        <td>
		     		<button ng-show="payment2"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 2</button>
		        	<button ng-hide="payment2"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(2)">Payment 2</button>
		        </td>

	        	<td>
	        		<button ng-show="payment3"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 3</button>
	        		<button ng-hide="payment3"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(3)">Payment 3</button>
	        	</td>

		        <td>
		        	<button ng-show="payment4"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 4</button>
		        	<button ng-hide="payment4"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(4)">Payment 4</button>
		        </td>

		        <td>
		        	<button ng-show="payment5"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 5</button>
		        	<button ng-hide="payment5"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(5)">Payment 5</button>
		        </td>

		        <td>
		        	<button ng-show="payment6"  class="btn btn-success btn-lg btn-outline btn-rounded">Payment 6</button>
		        	<button ng-hide="payment6"  class="btn btn-danger btn-lg btn-outline btn-rounded" ng-click="openForm(6)">Payment 6</button>
		        </td>
	        </tr>
	    </table>



                                
		<!---------------------------------------------------------------------->
		<!--Now mark the attendance-->
		<!---->

		<br/>

		<div ng-hide="markingAtt">
			<button ng-click="markAttendance()" class="btn btn-primary btn-lg btn-outline btn-rounded">Mark Attendance</button>
		</div>
		<div ng-show="markingAtt">
			Marking ...
		</div>

		<!---->
		<div ng-hide="viewingAtt">
			<button ng-click="viewAttendance()" class="btn btn-primary btn-lg btn-outline btn-rounded">View Attendance</button>
		</div>
		<div ng-show="viewingAtt">
			<button ng-click="" class="btn btn-primary btn-lg btn-outline btn-rounded">Hide Attendance</button><!--CODE THIS LATER-->
			<h1>RREMOVE DATA TABLES AND USE ANGULAR DATA TABLES</h1>

			<table border="1" id="attendance">
				<thead>
					<tr>
						<th>Registration Number</th>
						<th>Date</th>
						<th>Batch</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="att in AttDetails"  >

						
						<td >{{att.reg_no}}</td>
						<td >{{att.date}}</td>
						<td >{{att.batch}}</td>
					</tr>
				</tbody>
			</table>





		</div>

		<!--we want login form to be shown after id is searched for-->

		<div id="formDiv">
			<!-- Popup Div Starts Here -->
			<div id="popupLogin">
			<!-- Contact Us Form -->
				<form action="#" id="form" method="post" name="form">
						<!--put a cross image for close-->
					<span id="closeForm" class="glyphicon glyphicon-remove-sign" ng-click="closeForm()"></span>
					<h3>Enter the payment details</h2>
					<hr id="loginLine">

					Payment type : <b>{{payment_type}}</b>

					<br/>


					<input id="amount" name="amount" placeholder="Payment amount (in LKR)" type="text" class="form-control" ng-model="amount"><br/>
					<br/>
					<h4>Login verification</h4>
					<input id="uname" name="uname" placeholder="User Name" type="text" class="form-control" ng-model="username"><br/>
					<input id="password" name="password" placeholder="Password" type="password" class="form-control" ng-model="password"><br/>
					<a id="submit"  class="btn btn-primary btn-lg btn-outline btn-rounded" ng-click="verifyPayment(username,password)">Make payment</a>
					
				</form>
			</div>	
			<!-- Popup Div Ends Here -->
		</div>






		<!---->
  


	</div>



</div><!---End of the container---->



</body>
</html>